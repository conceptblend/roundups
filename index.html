<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Round Ups</title>
    <meta name="robots" content="noindex, nofollow">
    <meta name="description" content="Examples of Round Ups">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style type="text/css">
        body {
            max-width: 768px;
            margin: auto;
        }

        table.mono td,
        th.mono {
            font-family: monospace;
            font-size: 16px;
        }

        #amount {
            max-width: 100px;
            text-align: right;
        }

        .underline {
            display: inline-block;
            border-bottom: 1px solid #ddd;
        }

        .btn-group .btn:not(disabled):not(.disabled) {
            box-shadow: 0 2px 0 0 #333;
            transition: all .1s ease-out;
            transform: translateY(-2px);
        }

        .btn-group .btn:not(:disabled):not(.disabled).active {
            box-shadow: none;
            transform: translateY(0);
        }

        .vertical-spacer {
            padding: 1rem 0;
        }

        .table td,
        .table th {
            /* Bootstrap overrides */
            padding: 1rem 0;
        }

        .table .row-tight td,
        .table .row-tight th {
            padding: .25rem 0;
            border: 0 none;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <!--[if lt IE 7]>
                <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
            <![endif]-->
        <div class="row vertical-spacer">
            <div class="col-12">
                <h1>Round Ups examples</h1>
            </div>
        </div>

        <div class="alert alert-info alert-dismissable fade show" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <strong>Instructions</strong>
            <ul>
                <li>Turn variations ON/OFF using the labeled buttons.</li>
                <li>Enter an amount to see how they are calculated.</li>
            </ul>
        </div>

        <div class="row vertical-spacer">
            <div class="col-6 d-flex justify-content-start">
                <div id="method" class="btn-group btn-group-toggle btn-group-sm" data-toggle="buttons">
                    <label class="btn btn-success active">
                        <input type="checkbox" name="options" id="option4" value="4" autocomplete="off" checked>A+
                    </label>
                    <label class="btn btn-primary active">
                        <input type="checkbox" name="options" id="option1" value="1" autocomplete="off" checked>A-
                    </label>
                    <label class="btn btn-warning active">
                        <input type="checkbox" name="options" id="option2" value="2" autocomplete="off" checked>B
                    </label>
                    <label class="btn btn-danger active">
                        <input type="checkbox" name="options" id="option3" value="3" autocomplete="off" checked>C
                    </label>
                    <label class="btn btn-info active">
                        <input type="checkbox" name="options" id="option5" value="5" autocomplete="off" checked>D
                    </label>
                    <label class="btn btn-light active">
                        <input type="checkbox" name="options" id="option6" value="6" autocomplete="off" checked>E
                    </label>
                </div>
            </div>

        </div>
        <table class="table mono">
            <thead>
                <tr class="row-tight">
                    <th colspan="1">
                        <label for="amount">Transaction Amount</label>
                        <div class="form-inline">
                            <div class="form-group">
                                <div class="input-group mr-1">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">$</span>
                                    </div>
                                    <input type="number" step="0.01" class="form-control" id="amount"
                                        aria-describedby="Transaction Amount"
                                        placeholder="Enter a transaction amount..." value="4.99">
                                </div>
                                <div class="form-group"> <button id="randomize" class="btn btn-light">Random</button>
                                </div>
                            </div>
                        </div>
                    </th>
                    <th colspan="99" class="text-right">
                        <label>Round Up Setting</label><br />
                        <small class="text-muted font-weight-normal">Show:&nbsp;</small>
                        <div id="values" class="btn-group btn-group-toggle btn-group-sm" data-toggle="buttons">
                            <label id="toggle-details" class="btn btn-outline-secondary active">
                                <input type="checkbox" autocomplete="off" checked>Details
                            </label>
                            <label class="btn btn-outline-secondary active">
                                <input type="checkbox" name="values" id="value-option1" value="1" autocomplete="off"
                                    checked>1
                            </label>
                            <label class="btn btn-outline-secondary active">
                                <input type="checkbox" name="values" id="value-option2" value="2" autocomplete="off"
                                    checked>2
                            </label>
                            <label class="btn btn-outline-secondary active">
                                <input type="checkbox" name="values" id="value-option3" value="5" autocomplete="off"
                                    checked>5
                            </label>
                        </div>

                    </th>
                </tr>
                <tr class="row-tight">
                    <th>
                        <small class="text-muted">
                            <span class="roundamount"></span>&nbsp;to the nearest dollar
                        </small>
                    </th>
                    <th class="text-right mono values-1" scope="col">$1</th>
                    <th class="text-right mono values-2" scope="col">$2</th>
                    <th class="text-right mono values-5" scope="col">$5</th>
                </tr>
            </thead>
            <tbody>
                <tr id="method-4">
                    <th scope="row">
                        <span class="badge badge-pill badge-success">A+</span>
                        <br />
                        Round up by...
                        <br />
                        <span class="font-weight-light">Even dollar amount rounds to $1.00</span>
                    </th>
                    <td class="text-right values-1"><span id="method-4-1"></span></td>
                    <td class="text-right values-2"><span id="method-4-2"></span></td>
                    <td class="text-right values-5"><span id="method-4-5"></span></td>
                </tr>
                <tr id="method-1">
                    <th scope="row">
                        <span class="badge badge-pill badge-primary">A-</span>
                        <br />
                        Round up by...
                        <br />
                        <span class="font-weight-light">Even dollar amount rounds to $0.00</span>
                    </th>

                    <td class="text-right values-1"><span id="method-1-1"></span></td>
                    <td class="text-right values-2"><span id="method-1-2"></span></td>
                    <td class="text-right values-5"><span id="method-1-5"></span></td>
                </tr>
                <tr id="method-2">
                    <th scope="row">
                        <span class="badge badge-pill badge-warning">B</span>
                        <br />
                        Round to the next multiple of...
                        <br />
                        <span class="font-weight-light">$2 rounds to even numbers, $5 rounds to multiples of 5</span>
                    </th>
                    <td class="text-right values-1"><span id="method-2-1"></span></td>
                    <td class="text-right values-2"><span id="method-2-2"></span></td>
                    <td class="text-right values-5"><span id="method-2-5"></span></td>
                </tr>
                <tr id="method-3">
                    <th scope="row">
                        <span class="badge badge-pill badge-danger">C</span>
                        <br />
                        Top up by...
                        <br />
                        <span class="font-weight-light">No round up, just adding $1, $2, or $5</span>
                    </th>
                    <td class="text-right values-1"><span id="method-3-1"></span></td>
                    <td class="text-right values-2"><span id="method-3-2"></span></td>
                    <td class="text-right values-5"><span id="method-3-5"></span></td>
                </tr>
                <tr id="method-5">
                    <th scope="row">
                        <span class="badge badge-pill badge-info">D</span>
                        <br />
                        Round up and boost by...
                        <br />
                        <span class="font-weight-light">
                            With no boost, it's <span class="roundamount"></span>
                        </span>
                        <br />
                    </th>
                    <td class="text-right values-1"><span id="method-5-1"></span></td>
                    <td class="text-right values-2"><span id="method-5-2"></span></td>
                    <td class="text-right values-5"><span id="method-5-5"></span></td>
                </tr>
                <tr id="method-6">
                    <th scope="row">
                        <span class="badge badge-pill badge-light">E</span>
                        <br />
                        Multiply your round up
                        <br />
                        <span class="font-weight-light"><span class="roundamount"></span> @ 1x, 2x, 5x</span>
                    </th>
                    <td class="text-right values-1"><span id="method-6-1"></span></td>
                    <td class="text-right values-2"><span id="method-6-2"></span></td>
                    <td class="text-right values-5"><span id="method-6-5"></span></td>
                </tr>
            </tbody>
        </table>
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
    <!--script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"-->
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
    </script>
    <script type="application/javascript">
        function roundUpMethod(value, roundUpAmount, method) {
            var delta,
                additive,
                retVal;

            switch (method) {
                case 1:
                    /* N-1 + delta -- not 0 */
                    delta = Math.ceil(value) - value,
                        additive = roundUpAmount - 1,
                        retVal = delta + additive;
                    break;
                case 2:
                    /* Nearest multiple */
                    delta = roundUpAmount - (value % roundUpAmount);
                    retVal = delta;
                    break;
                case 3:
                    /* On top */
                    retVal = roundUpAmount;
                    break;
                case 4:
                    /* N-1 + delta -- with 0 */
                    delta = Math.floor(value + roundUpAmount) - value,
                        retVal = delta;
                    break;
                case 5:
                    /* Round Up + boost */
                    delta = Math.ceil(value) - value,
                        additive = roundUpAmount,
                        retVal = delta + additive;
                    break;
                case 6:
                    /* Round Up multiply */
                    delta = Math.ceil(value) - value,
                        retVal = delta * roundUpAmount;
                    break;
                default:
                    /* Basic round up */
                    retVal = Math.ceil(value) - value;

            }
            return retVal.toFixed(2);
        }
        $(function () {
            var options = [1, 2, 5];
            $('#amount').change(function (e) {
                var val = $(this).val() || 0,
                    amt = parseFloat(val);
                if (amt) {
                    $('.roundamount').text("$" + roundUpMethod(amt, 0,
                        0)); // Basic round up calculation
                } else {
                    $('.roundamount').text("N/A");
                }
                for (var n = 1, max = 6; n <= max; n++) {
                    for (var i in options) {
                        var ru = roundUpMethod(amt, options[i], n),
                            total = (parseFloat(ru) + parseFloat(amt)).toFixed(2);
                        $('#method-' + n + '-' + options[i]).html(
                            "<span class='text-muted toggle-hook-sum'>$" + amt.toFixed(2) +
                            "</span>" +
                            "<br/><strong class='underline toggle-hook-sum-underline'>+&nbsp;$" +
                            ru +
                            "</strong><br/><span class='text-muted toggle-hook-sum'>$" + total +
                            "</span>"
                        );
                    }
                }
            });

            $('#method .btn').click(function (e) {
                var inputEl = $('> input', this),
                    selector = '#method-' + $(inputEl).val();
                $(selector).css("display", !$(inputEl).is(":checked") ? "table-row" : "none");
            });

            $('#values .btn').click(function (e) {
                var inputEl = $('> input', this),
                    selector = '.values-' + $(inputEl).val();
                $(selector).css("display", !$(inputEl).is(":checked") ? "table-cell" : "none");
            });

            $('#randomize').click(function (e) {
                $('#amount')
                    .val(function () {
                        return (Math.random() * 30).toFixed(2);
                    })
                    .change();
            });

            $('#toggle-details').click(function (e) {
                $('.toggle-hook-sum').toggle();
                $('.toggle-hook-sum-underline').toggleClass('underline');
            })

            /* Set an initial value for the transaction amount */
            //$('#amount').change();
            $('#randomize').click();
            $('#toggle-details').click();
        })
    </script>
</body>

</html>